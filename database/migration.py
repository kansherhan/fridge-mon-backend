import bcrypt

from sanic import Sanic

from apps.employees.models import Employee
from apps.employees.roles.models import EmployeeRole, CompanyRole
from apps.auth.models import EmployeeToken

from apps.cities.models import City
from apps.countries.models import Country

from apps.companies.models import Company
from apps.enterprises.models import Enterprise

from apps.fridges.models import Fridge
from apps.fridges.templates.models import FridgeTemplate
from apps.fridges.measurements.models import FridgeMeasurement


__COUNTRIES__ = [
    "Kazakhstan",
    "Russia",
    "Saudi Arabia",
    "United Arab Emirates",
    "China",
]


async def migrate(app: Sanic):
    Country.insert_many(
        [(name) for name in __COUNTRIES__],
        fields=[Country.name],
    ).execute()

    City.insert_many(
        [
            ("Guangzhou", 23.13, 113.26, 5),
            ("Shanghai", 31.1667, 121.4667, 5),
            ("Beijing", 39.904, 116.4075, 5),
            ("Moscow", 55.7558, 37.6178, 2),
            ("Chengdu", 30.66, 104.0633, 5),
            ("Xian", 34.2667, 108.9, 5),
            ("Chongqing", 29.55, 106.5069, 5),
            ("Tianjin", 39.1467, 117.2056, 5),
            ("Wuhan", 30.5872, 114.2881, 5),
            ("Hangzhou", 30.25, 120.1675, 5),
            ("Nanjing", 32.0608, 118.7789, 5),
            ("Shenyang", 41.8025, 123.4281, 5),
            ("Riyadh", 24.6333, 46.7167, 3),
            ("Zhengzhou", 34.7492, 113.6605, 5),
            ("Jinan", 36.6667, 116.9833, 5),
            ("Saint Petersburg", 59.95, 30.3167, 2),
            ("Changsha", 28.1987, 112.9709, 5),
            ("Kunming", 25.0433, 102.7061, 5),
            ("Changchun", 43.9, 125.2, 5),
            ("Urumqi", 43.8225, 87.6125, 5),
            ("Hefei", 31.8639, 117.2808, 5),
            ("Shijiazhuang", 38.0422, 114.5086, 5),
            ("Taiyuan", 37.8733, 112.5425, 5),
            ("Nanning", 22.8192, 108.315, 5),
            ("Harbin", 45.75, 126.6333, 5),
            ("Fuzhou", 26.0769, 119.2917, 5),
            ("Nanchang", 28.6842, 115.8872, 5),
            ("Hohhot", 40.8151, 111.6629, 5),
            ("Dubai", 25.2631, 55.2972, 4),
            ("Guiyang", 26.5794, 106.7078, 5),
            ("Lanzhou", 36.0617, 103.8318, 5),
            ("Haikou", 20.02, 110.32, 5),
            ("Xining", 36.6239, 101.7787, 5),
            ("Almaty", 43.2775, 76.8958, 1),
            ("Yinchuan", 38.4795, 106.2254, 5),
            ("Mecca", 21.4225, 39.8233, 3),
            ("Novosibirsk", 55.0333, 82.9167, 2),
            ("Abu Dhabi", 24.4667, 54.3667, 4),
            ("Yekaterinburg", 56.8356, 60.6128, 2),
            ("Nizhniy Novgorod", 56.3269, 44.0075, 2),
            ("Sharjah", 25.3575, 55.3908, 4),
            ("Kazan", 55.7964, 49.1089, 2),
            ("Chelyabinsk", 55.15, 61.4, 2),
            ("Medina", 24.47, 39.61, 3),
            ("Omsk", 54.9667, 73.3833, 2),
            ("Samara", 53.2028, 50.1408, 2),
            ("Rostov", 47.2333, 39.7, 2),
            ("Ufa", 54.7261, 55.9475, 2),
            ("Krasnoyarsk", 56.0089, 92.8719, 2),
            ("Nur-Sultan", 51.1472, 71.4222, 1),
            ("Voronezh", 51.6717, 39.2106, 2),
            ("Perm", 58.0139, 56.2489, 2),
            ("Shymkent", 42.3167, 69.5958, 1),
            ("Volgograd", 48.7086, 44.5147, 2),
            ("Krasnodar", 45.0333, 38.9667, 2),
            ("Ad Dammam", 26.4333, 50.1, 3),
            ("Lhasa", 29.6534, 91.1719, 5),
            ("Saratov", 51.5333, 46.0167, 2),
            ("Tyumen", 57.15, 65.5333, 2),
            ("Izhevsk", 56.85, 53.2167, 2),
            ("Barnaul", 53.3333, 83.75, 2),
            ("Ulyanovsk", 54.3167, 48.3667, 2),
            ("Irkutsk", 52.2833, 104.2833, 2),
            ("Khabarovsk", 48.4833, 135.0667, 2),
            ("Yaroslavl", 57.6167, 39.85, 2),
            ("Vladivostok", 43.1333, 131.9, 2),
            ("Makhachkala", 42.9833, 47.4833, 2),
            ("Tomsk", 56.4886, 84.9522, 2),
            ("Orenburg", 51.7667, 55.1, 2),
            ("Kemerovo", 55.3667, 86.0667, 2),
            ("Tabuk", 28.3972, 36.5789, 3),
            ("Ryazan", 54.63, 39.7425, 2),
            ("Astrakhan", 46.35, 48.035, 2),
            ("Penza", 53.2, 45, 2),
            ("Lipetsk", 52.6167, 39.6, 2),
            ("Kirov", 58.6, 49.65, 2),
            ("Qaraghandy", 49.8028, 73.1056, 1),
            ("`Ajman", 25.4136, 55.4456, 4),
            ("Cheboksary", 56.1333, 47.25, 2),
            ("Tula", 54.2, 37.6167, 2),
            ("Kaliningrad", 54.7003, 20.4531, 2),
            ("Buraydah", 26.3333, 43.9667, 3),
            ("Kursk", 51.7167, 36.1833, 2),
            ("Stavropol", 45.05, 41.9833, 2),
            ("Ulan-Ude", 51.8272, 107.6064, 2),
            ("Tver", 56.8578, 35.9219, 2),
            ("Ivanovo", 57, 41, 2),
            ("Bryansk", 53.25, 34.3667, 2),
            ("Belgorod", 50.6, 36.6, 2),
            ("Aqtobe", 50.2836, 57.2297, 1),
            ("Hail", 27.5167, 41.6833, 3),
            ("Vladimir", 56.1286, 40.4058, 2),
            ("Taraz", 42.9, 71.3667, 1),
            ("Pavlodar", 52.3, 76.95, 1),
            ("Arkhangelsk", 64.55, 40.5333, 2),
            ("Semey", 50.4333, 80.2667, 1),
            ("Chita", 52.0333, 113.5, 2),
            ("Oskemen", 49.9833, 82.6167, 1),
            ("Kaluga", 54.5333, 36.2667, 2),
            ("Smolensk", 54.7828, 32.0453, 2),
            ("Saransk", 54.1833, 45.1833, 2),
            ("Vologda", 59.2167, 39.9, 2),
            ("Orel", 52.9686, 36.0694, 2),
            ("Yakutsk", 62.0272, 129.7319, 2),
            ("Kurgan", 55.4408, 65.3411, 2),
            ("Vladikavkaz", 43.04, 44.6775, 2),
            ("Murmansk", 68.9706, 33.075, 2),
            ("Tambov", 52.7167, 41.4333, 2),
            ("Groznyy", 43.3125, 45.6986, 2),
            ("Atyrau", 47.1167, 51.8833, 1),
            ("Petrozavodsk", 61.7833, 34.35, 2),
            ("Kostroma", 57.7681, 40.9269, 2),
            ("Yoshkar-Ola", 56.6328, 47.8958, 2),
            ("Nalchik", 43.4833, 43.6167, 2),
            ("Syktyvkar", 61.6667, 50.8167, 2),
            ("Sakaka", 29.9697, 40.2, 3),
            ("Qyzylorda", 44.85, 65.5167, 1),
            ("Abha", 18.2169, 42.5053, 3),
            ("Oral", 51.2225, 51.3725, 1),
            ("Blagoveshchensk", 50.2578, 127.5364, 2),
            ("Velikiy Novgorod", 58.521, 31.2758, 2),
            ("Qostanay", 53.2, 63.62, 1),
            ("Petropavl", 54.8833, 69.1667, 1),
            ("Pskov", 57.8167, 28.3333, 2),
            ("Yuzhno-Sakhalinsk", 46.95, 142.7333, 2),
            ("Aqtau", 43.6525, 51.1575, 1),
            ("Abakan", 53.7167, 91.4667, 2),
            ("Petropavlovsk-Kamchatskiy", 53.0167, 158.65, 2),
            ("Kokshetau", 53.2833, 69.3833, 1),
            ("Turkistan", 43.3019, 68.2692, 1),
            ("Maykop", 44.6, 40.0833, 2),
            ("Taldyqorghan", 45.0167, 78.3667, 1),
            ("Jazan", 16.8892, 42.5611, 3),
            ("Cherkessk", 44.2222, 42.0575, 2),
            ("Kyzyl", 51.7167, 94.45, 2),
            ("Ras al Khaymah", 25.7667, 55.95, 4),
            ("Khanty-Mansiysk", 61, 69, 2),
            ("Elista", 46.3167, 44.2667, 2),
            ("Al Fujayrah", 25.1223, 56.3342, 4),
            ("Magadan", 59.5667, 150.8, 2),
            ("Zhezqazghan", 47.7833, 67.7, 1),
            ("Birobidzhan", 48.8, 132.9333, 2),
            ("Najran", 17.4917, 44.1322, 3),
            ("Gorno-Altaysk", 51.96, 85.96, 2),
            ("Salekhard", 66.5333, 66.6333, 2),
            ("Umm al Qaywayn", 25.5533, 55.5475, 4),
            ("Qapshaghay", 43.8844, 77.0687, 1),
            ("Arar", 30.9833, 41.0167, 3),
            ("Naryan-Mar", 67.6333, 53.05, 2),
            ("Al Bahah", 20.0125, 41.4653, 3),
            ("Anadyr", 64.7333, 177.5167, 2),
            ("Magas", 43.1667, 44.8, 2),
        ],
        fields=[
            City.name,
            City.latitude,
            City.longitude,
            City.country,
        ],
    ).execute()

    magnum_creater = Employee.create(
        first_name="Magnum",
        last_name="Owner",
        email="info@magnum.kz",
        password=bcrypt.hashpw("123456".encode(), bcrypt.gensalt()),
        icon_url="user.jpg",
    )

    magnum_company = Company.create(
        name="Magnum",
        inn="75345678901",
        phone="+7 766 147 78 85",
        email="info@magnum.kz",
        icon_url="magnum.jpg",
    )

    magnum_owner_role = EmployeeRole.create(
        employee=magnum_creater,
        company=magnum_company,
        role=CompanyRole.OWNER,
    )

    Enterprise.insert_many(
        [
            (
                1,
                "Коктем",
                "г. Алматы, ул. Тимирязева, 37 ТЦ Коктем",
                43.192287,
                76.835896,
                "+7 (778) 147 48 12",
                "info@magnum.kz",
                "1.jpg",
                34,
            ),
            (
                1,
                "Люмир",
                "г. Алматы, мкр. Астана, 1/10, ТЦ «Люмир»",
                43.215311,
                76.915598,
                "+7 (707) 852 45 17",
                "info@magnum.kz",
                "2.jpg",
                34,
            ),
            (
                1,
                "Айнабулак",
                "г. Алматы, Айнабулак 3 мкр., Жумабаева 98а",
                43.239327,
                76.870250,
                "+7 (776) 123 48 12",
                "info@magnum.kz",
                "3.jpg",
                34,
            ),
            (
                1,
                "Шелек",
                "Алматинская обл. Енбекшийказахский р-н с. Шелек Ул. Каипова №1В. 1 этаж, Литер А",
                43.254332,
                76.958198,
                "+7 (778) 212 21 54",
                "info@magnum.kz",
                "4.jpg",
                34,
            ),
            (
                1,
                "Мехзавот",
                "г. Алматы, пр. Сакена Сейфуллина, 171/Акан серы",
                43.249334,
                76.873299,
                "+7 (770) 787 58 12",
                "info@magnum.kz",
                "5.jpg",
                34,
            ),
            (
                1,
                "Кулагер",
                "г. Астана, ул. Сыганак, 4",
                51.132276,
                71.446072,
                "+7 (770) 787 58 12",
                "info@magnum.kz",
                "5.jpg",
                50,
            ),
            (
                1,
                "Аружан",
                "г. Астана, р-н Алматы, ул. Ілияс Жансүгірұлы, дом 8/1, литер Б, 1 этаж",
                51.123657,
                71.410343,
                "+7 (770) 787 58 43",
                "info@magnum.kz",
                "1.jpg",
                50,
            ),
            (
                1,
                "Рауан",
                "г. Астана, р-н Сарыарка, Биржан Сал 7",
                51.146368,
                71.377908,
                "+7 (772) 752 13 79",
                "info@magnum.kz",
                "3.jpg",
                50,
            ),
            (
                1,
                "Самал",
                "г. Астана, мкр. Самал, 11",
                51.122240,
                71.518176,
                "+7 (770) 787 58 12",
                "info@magnum.kz",
                "2.jpg",
                50,
            ),
            (
                1,
                "Женис",
                "г. Астана, р-н Сарыарка, Женіс 55",
                51.095511,
                71.417858,
                "+7 (774) 789 88 19",
                "info@magnum.kz",
                "4.jpg",
                50,
            ),
        ],
        fields=[
            Enterprise.company,
            Enterprise.name,
            Enterprise.address,
            Enterprise.latitude,
            Enterprise.longitude,
            Enterprise.phone,
            Enterprise.email,
            Enterprise.icon_url,
            Enterprise.city,
        ],
    ).execute()
